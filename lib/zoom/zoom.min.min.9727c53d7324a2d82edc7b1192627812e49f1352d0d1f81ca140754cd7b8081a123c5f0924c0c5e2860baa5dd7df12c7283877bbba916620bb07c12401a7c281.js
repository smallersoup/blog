/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).mediumZoom=t()}(this,function(){"use strict";var e=Object.assign||function(e){for(var t,s,n=1;n<arguments.length;n++){t=arguments[n];for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},n=function(e){return"IMG"===e.tagName},s=function(e){return e&&1===e.nodeType},o=function(e){return".svg"===(e.currentSrc||e.src).substr(-4).toLowerCase()},i=function(e){try{return Array.isArray(e)?e.filter(n):function(e){return NodeList.prototype.isPrototypeOf(e)}(e)?[].slice.call(e).filter(n):s(e)?[e].filter(n):"string"==typeof e?[].slice.call(document.querySelectorAll(e)).filter(n):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},a=function(e){var t=document.createElement("div");return t.classList.add("medium-zoom-overlay"),t.style.background=e,t},r=function(e){var n=e.getBoundingClientRect(),s=n.top,o=n.left,i=n.width,a=n.height,t=e.cloneNode(),r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,c=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return t.removeAttribute("id"),t.style.position="absolute",t.style.top=s+r+"px",t.style.left=o+c+"px",t.style.width=i+"px",t.style.height=a+"px",t.style.transform="",t},t=function(t,n){var o,s=e({bubbles:!1,cancelable:!1,detail:void 0},n);return"function"==typeof window.CustomEvent?new CustomEvent(t,s):(o=document.createEvent("CustomEvent"),o.initCustomEvent(t,s.bubbles,s.cancelable,s.detail),o)};return function(e,t){if(void 0===t&&(t={}),o=t.insertAt,e&&"undefined"!=typeof document){var o,s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===o&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}(".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}"),function n(c){var u,p,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=window.Promise||function(e){function t(){}e(t,t)},T=function(e){var t=e.target;t!==p?-1!==h.indexOf(t)&&b({target:t}):m()},F=function(){if(!f&&l.original){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(v-e)>d.scrollOffset&&setTimeout(m,150)}},M=function(e){var t=e.key||e.keyCode;"Escape"!==t&&"Esc"!==t&&27!==t||m()},A=function(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n;return(n.background&&(p.style.background=n.background),n.container&&n.container instanceof Object&&(o.container=e({},d.container,n.container)),n.template)&&(i=s(n.template)?n.template:document.querySelector(n.template),o.template=i),d=e({},d,o),h.forEach(function(e){e.dispatchEvent(t("medium-zoom:update",{detail:{zoom:u}}))}),u},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(e({},d,t))},_=function(){for(var t,n=arguments.length,s=Array(n),e=0;e<n;e++)s[e]=arguments[e];return t=s.reduce(function(e,t){return[].concat(e,i(t))},[]),t.filter(function(e){return-1===h.indexOf(e)}).forEach(function(e){h.push(e),e.classList.add("medium-zoom-image")}),g.forEach(function(e){var n=e.type,s=e.listener,o=e.options;t.forEach(function(e){e.addEventListener(n,s,o)})}),u},S=function(){for(var s,o=arguments.length,n=Array(o),e=0;e<o;e++)n[e]=arguments[e];return l.zoomed&&m(),s=n.length>0?n.reduce(function(e,t){return[].concat(e,i(t))},[]):h,s.forEach(function(e){e.classList.remove("medium-zoom-image"),e.dispatchEvent(t("medium-zoom:detach",{detail:{zoom:u}}))}),h=h.filter(function(e){return-1===s.indexOf(e)}),u},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h.forEach(function(s){s.addEventListener("medium-zoom:"+e,t,n)}),g.push({type:"medium-zoom:"+e,listener:t,options:n}),u},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h.forEach(function(s){s.removeEventListener("medium-zoom:"+e,t,n)}),g=g.filter(function(n){return n.type!=="medium-zoom:"+e||n.listener.toString()!==t.toString()}),u},y=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.target,i=function(){var t={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},n=void 0,i=void 0;if(d.container)if(d.container instanceof Object)n=(t=e({},t,d.container)).width-t.left-t.right-2*d.margin,i=t.height-t.top-t.bottom-2*d.margin;else{var c=(s(d.container)?d.container:document.querySelector(d.container)).getBoundingClientRect(),x=c.width,p=c.height,O=c.left,y=c.top;t=e({},t,{width:x,height:p,left:O,top:y})}var n=n||t.width-2*d.margin,i=i||t.height-2*d.margin,a=l.zoomedHd||l.original,j=o(a)?n:a.naturalWidth||n,g=o(a)?i:a.naturalHeight||i,r=a.getBoundingClientRect(),v=r.top,b=r.left,m=r.width,h=r.height,_=Math.min(Math.max(m,j),n)/m,w=Math.min(Math.max(h,g),i)/h,u=Math.min(_,w),f="scale("+u+") translate3d("+((n-m)/2-b+d.margin+t.left)/u+"px, "+((i-h)/2-v+d.margin+t.top)/u+"px, 0)";l.zoomed.style.transform=f,l.zoomedHd&&(l.zoomedHd.style.transform=f)};return new j(function(e){if(n&&-1===h.indexOf(n))e(u);else if(l.zoomed)e(u);else{if(n)l.original=n;else{if(!(h.length>0))return void e(u);var o,a,c,g=h;l.original=g[0]}(l.original.dispatchEvent(t("medium-zoom:open",{detail:{zoom:u}})),v=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,f=!0,l.zoomed=r(l.original),document.body.appendChild(p),d.template)&&(a=s(d.template)?d.template:document.querySelector(d.template),l.template=document.createElement("div"),l.template.appendChild(a.content.cloneNode(!0)),document.body.appendChild(l.template)),l.original.parentElement&&"PICTURE"===l.original.parentElement.tagName&&l.original.currentSrc&&(l.zoomed.src=l.original.currentSrc),document.body.appendChild(l.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),l.original.classList.add("medium-zoom-image--hidden"),l.zoomed.classList.add("medium-zoom-image--opened"),l.zoomed.addEventListener("click",m),l.zoomed.addEventListener("transitionend",function n(){f=!1,l.zoomed.removeEventListener("transitionend",n),l.original.dispatchEvent(t("medium-zoom:opened",{detail:{zoom:u}})),e(u)}),l.original.getAttribute("data-zoom-src")?(l.zoomedHd=l.zoomed.cloneNode(),l.zoomedHd.removeAttribute("srcset"),l.zoomedHd.removeAttribute("sizes"),l.zoomedHd.removeAttribute("loading"),l.zoomedHd.src=l.zoomed.getAttribute("data-zoom-src"),l.zoomedHd.onerror=function(){clearInterval(o),console.warn("Unable to reach the zoom image target "+l.zoomedHd.src),l.zoomedHd=null,i()},o=setInterval(function(){l.zoomedHd.complete&&(clearInterval(o),l.zoomedHd.classList.add("medium-zoom-image--opened"),l.zoomedHd.addEventListener("click",m),document.body.appendChild(l.zoomedHd),i())},10)):l.original.hasAttribute("srcset")?(l.zoomedHd=l.zoomed.cloneNode(),l.zoomedHd.removeAttribute("sizes"),l.zoomedHd.removeAttribute("loading"),c=l.zoomedHd.addEventListener("load",function(){l.zoomedHd.removeEventListener("load",c),l.zoomedHd.classList.add("medium-zoom-image--opened"),l.zoomedHd.addEventListener("click",m),document.body.appendChild(l.zoomedHd),i()})):i()}})},m=function(){return new j(function(e){!f&&l.original?(f=!0,document.body.classList.remove("medium-zoom--opened"),l.zoomed.style.transform="",l.zoomedHd&&(l.zoomedHd.style.transform=""),l.template&&(l.template.style.transition="opacity 150ms",l.template.style.opacity=0),l.original.dispatchEvent(t("medium-zoom:close",{detail:{zoom:u}})),l.zoomed.addEventListener("transitionend",function n(){l.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(l.zoomed),l.zoomedHd&&document.body.removeChild(l.zoomedHd),document.body.removeChild(p),l.zoomed.classList.remove("medium-zoom-image--opened"),l.template&&document.body.removeChild(l.template),f=!1,l.zoomed.removeEventListener("transitionend",n),l.original.dispatchEvent(t("medium-zoom:closed",{detail:{zoom:u}})),l.original=null,l.zoomed=null,l.zoomedHd=null,l.template=null,e(u)})):e(u)})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target;return l.original?m():y({target:t})},O=function(){return d},x=function(){return h},k=function(){return l.original},h=[],g=[],f=!1,v=0,d=E,l={original:null,zoomed:null,zoomedHd:null,template:null};return"[object Object]"===Object.prototype.toString.call(c)?d=c:(c||"string"==typeof c)&&_(c),d=e({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},d),p=a(d.background),document.addEventListener("click",T),document.addEventListener("keyup",M),document.addEventListener("scroll",F),window.addEventListener("resize",m),u={open:y,close:m,toggle:b,update:A,clone:w,attach:_,detach:S,on:C,off:z,getOptions:O,getImages:x,getZoomedImage:k},u}})